
<script type="text/javascript">
    $(document).ready(function () {
        $('#guardar_o_actualizar').on("click", function() {
            var _id= $("#id").val();
             var _id_factura_venta= $("#id_factura_venta").val();
             var _id_producto =$("#id_producto").val();
             var _cantidad = $("#cantidad").val();
             var _descuento = $("#descuento").val();
             $.ajax({
                    url: $(this).attr('ajax_path'),
                    data: {"id":_id ,"id_factura_venta":_id_factura_venta,"id_producto":_id_producto,"cantidad":_cantidad,"descuento":_descuento},
                    async: true,
                    dataType: 'script'
                    });
                    return false;
         });
        $('#guardar_agregar').on("click", function() {
             var _id_factura_venta= $("#id_factura_venta").val();
             var _id_producto = $("#id_producto").val();
             var _cantidad = $("#cantidad").val();
             var _descuento = $("#descuento").val();
             $.ajax({
                    url: $(this).attr('ajax_path'),
                    data: {"id_factura_venta":_id_factura_venta,"id_producto":_id_producto,"cantidad":_cantidad,"descuento":_descuento},
                    async: true,
                    dataType: 'script'
                    });
                    return false;
         });
    });
</script>
       <div class="span11" id="productmodal">
        <%=hidden_field_tag :id,params[:id],:value=>@id%>
                <%=hidden_field_tag :id_factura_venta,params[:id_factura_venta],:value=>FacturaVentum.id_factura()%>
            <div class="span2 " >
                <label class="label">Producto:</label>
                 <%= autocomplete_field_tag :descripcion,params[:descripcion], autocomplete_producto_descripcion_detalle_factura_venta_path,:id_element=>"#id_producto",:value=>@producto,:id=>"descripcion"%>
                 <%=hidden_field_tag :id_producto,params[:id_producto],:id=>"id_producto",:value=>@producto_id%>
            </div>
            <div class="span1 offset1">
               <label class="label">Cantidad:</label>
               <%=text_field_tag :cantidad,params[:cantidad],:value=>@cantidad, class: "span2",:id=>"cantidad"%>
          </div>
            <div class="span2 offset1" >
                <label class="label">Descuento:</label>
                 <%= text_field_tag :descuento,params[:descuento],:value=>@descuento, class: "span2",:id=>"descuento" %>
            </div> 
                        
            <div class="span1 offset1" align="center" style="margin-top:25px;">
                <%= link_to "Guardar", "#", :id => "guardar_o_actualizar",  :class => 'btn btn-success',:ajax_path => guardar_o_actualizar_detalle_factura_venta_path%>
            </div>  
        </div>  <br/><br/>               


